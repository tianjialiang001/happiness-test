<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>å¹¸ç¦æ„Ÿæµ‹è¯„ Â· ä¸‡ç æˆæƒç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', Roboto, sans-serif;
        }
        body {
            background: linear-gradient(165deg, #f1ebe5 0%, #fffbf5 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            color: #4a3c32;
        }
        .paper {
            max-width: 1000px;
            width: 100%;
            background: rgba(255, 248, 238, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 56px;
            box-shadow: 0 24px 48px rgba(130, 100, 70, 0.12);
            padding: 2.4rem 2.2rem;
            border: 1px solid #fff4e6;
        }
        h1 {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 2rem;
            font-weight: 560;
            color: #65473a;
            margin-bottom: 0.2rem;
            border-bottom: 3px solid #ffdec2;
            padding-bottom: 0.4rem;
        }
        h1 span {
            background: #ffe2cf;
            border-radius: 50%;
            width: 52px;
            height: 52px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }
        .subhead {
            font-size: 1rem;
            color: #9b7b66;
            margin-bottom: 1.5rem;
            padding-left: 0.8rem;
            border-left: 6px solid #ffcba5;
            font-style: italic;
        }
        .auth-overlay {
            background: white;
            border-radius: 44px;
            padding: 2.5rem 2rem;
            margin: 1rem 0;
            box-shadow: 0 14px 28px #e6d2c0;
            border: 1px solid #ffede1;
            text-align: center;
        }
        .auth-icon {
            font-size: 3.5rem;
            margin-bottom: 1rem;
        }
        .auth-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #5b4236;
            margin-bottom: 0.8rem;
        }
        .auth-desc {
            font-size: 1.1rem;
            color: #8b6e5c;
            margin-bottom: 2rem;
        }
        .auth-input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .auth-input {
            flex: 1;
            min-width: 200px;
            padding: 1rem 1.5rem;
            font-size: 1.2rem;
            border: 2px solid #eaccb8;
            border-radius: 60px;
            outline: none;
            background: #fffbf5;
            color: #4a3c32;
            letter-spacing: 2px;
            text-align: center;
            text-transform: uppercase;
        }
        .auth-input:focus {
            border-color: #b48464;
            box-shadow: 0 0 0 3px #ffe6d6;
        }
        .auth-btn {
            background: #e7c9b2;
            border: none;
            padding: 1rem 2.2rem;
            border-radius: 60px;
            font-size: 1.2rem;
            font-weight: 600;
            color: #4a3a2e;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            border: 1px solid #fff6ec;
            box-shadow: 0 6px 0 #b3927c, 0 8px 18px rgba(99, 71, 51, 0.1);
            transition: 0.04s;
            cursor: pointer;
        }
        .auth-btn:active {
            transform: translateY(6px);
            box-shadow: 0 2px 0 #9a7864, 0 8px 18px #ddc2b0;
        }
        .auth-message {
            margin-top: 1rem;
            font-size: 1rem;
            color: #b45a3a;
            min-height: 2rem;
        }
        .assessment-content {
            display: none;
        }
        .progress-area {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.2rem;
            background: #fffbf5;
            padding: 0.7rem 1.6rem;
            border-radius: 48px;
            color: #6b5242;
            border: 1px solid #ffdcc4;
            font-size: 0.98rem;
            flex-wrap: wrap;
        }
        .progress-badge {
            background: #e6d2c0;
            padding: 0.3rem 1.2rem;
            border-radius: 40px;
            color: #4e382c;
            font-weight: 550;
        }
        .reset-btn {
            background: #f2dfd1;
            border: none;
            padding: 0.55rem 1.6rem;
            border-radius: 50px;
            font-size: 0.95rem;
            font-weight: 550;
            color: #4e3e34;
            box-shadow: 0 4px 0 #c6a692;
            transition: 0.04s;
            cursor: pointer;
            border: 1px solid #ffe0cf;
        }
        .reset-btn:active {
            transform: translateY(4px);
            box-shadow: 0 1px 0 #a88672;
        }
        .question-page {
            background: white;
            border-radius: 44px;
            padding: 2.2rem 2.5rem;
            margin: 0.6rem 0 1.5rem;
            box-shadow: 0 14px 28px #e6d2c0;
            border: 1px solid #ffede1;
        }
        .dimension-tag {
            display: inline-block;
            background: #fff1e6;
            border-radius: 60px;
            padding: 0.4rem 1.5rem;
            font-size: 0.95rem;
            font-weight: 600;
            color: #7b543e;
            letter-spacing: 0.5px;
            margin-bottom: 1.2rem;
            border: 1px solid #ffc7a8;
        }
        .question-text {
            font-size: 1.65rem;
            font-weight: 530;
            line-height: 1.4;
            color: #4a3429;
            margin-bottom: 2rem;
            word-break: break-word;
        }
        .option-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem 2rem;
            justify-content: flex-start;
            margin-bottom: 0.8rem;
        }
        .option-item {
            display: flex;
            align-items: center;
            gap: 8px;
            background: #fdf7f1;
            padding: 0.6rem 1.6rem;
            border-radius: 50px;
            border: 1px solid #f8d5bf;
            transition: 0.08s;
            cursor: pointer;
        }
        .option-item:hover {
            background: #ffede1;
            border-color: #e2a07e;
        }
        .option-item input[type="radio"] {
            appearance: none;
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border: 2px solid #aa7a5e;
            border-radius: 50%;
            transition: 0.06s;
            cursor: pointer;
        }
        .option-item input[type="radio"]:checked {
            border: 8px solid #8b5a40;
            background: white;
            box-shadow: 0 0 0 1px #ffbc8c;
        }
        .score-label {
            font-size: 1.2rem;
            font-weight: 480;
            color: #5a4033;
        }
        .small-hint {
            font-size: 0.85rem;
            color: #a8755b;
            margin-left: 5px;
        }
        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            margin: 0.8rem 0 1rem;
        }
        .nav-btn {
            background: #e7d2c0;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 550;
            color: #4a3a2e;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: 1px solid #fff6ec;
            box-shadow: 0 5px 0 #b3927c, 0 8px 18px rgba(99, 71, 51, 0.1);
            transition: 0.04s;
            cursor: pointer;
        }
        .nav-btn:active {
            transform: translateY(5px);
            box-shadow: 0 2px 0 #9a7864, 0 8px 18px #ddc2b0;
        }
        .nav-btn:disabled {
            opacity: 0.45;
            transform: none;
            box-shadow: 0 5px 0 #b3927c;
            pointer-events: none;
        }
        .page-index {
            font-size: 1.05rem;
            background: #fff2e7;
            padding: 0.45rem 1.5rem;
            border-radius: 60px;
            border: 1px dashed #ceaa92;
        }
        .result-detailed {
            margin-top: 2.2rem;
            background: #fffdf9;
            border-radius: 48px;
            padding: 2rem 2.2rem;
            border: 1px solid #ffdabf;
            box-shadow: 0 12px 28px #efd8ca;
        }
        .total-score-section {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 2rem;
            margin-bottom: 1.8rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px dashed #fad0b3;
        }
        .score-big-circle {
            background: #fff6ec;
            border-radius: 100px;
            padding: 0.6rem 2rem;
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            border: 1px solid #f8be9b;
        }
        .score-number-big {
            font-size: 3.8rem;
            font-weight: 700;
            line-height: 1;
            color: #6f4737;
        }
        .score-max {
            font-size: 1rem;
            color: #9e7a64;
        }
        .core-feedback {
            flex: 1;
            font-size: 1.3rem;
            font-weight: 480;
            color: #4c3b30;
            background: #faf0e7;
            padding: 0.8rem 1.8rem;
            border-radius: 60px;
        }
        .dimension-breakdown {
            margin-top: 0.8rem;
        }
        .dimension-breakdown h3 {
            font-size: 1.25rem;
            font-weight: 560;
            color: #5f463a;
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .dimension-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1.4rem;
        }
        .dim-card {
            background: #fef7f1;
            border-radius: 28px;
            padding: 1.3rem 1.4rem;
            border-left: 10px solid #ecc6ae;
            box-shadow: 0 6px 14px #ebdbcf;
        }
        .dim-title {
            font-size: 1.2rem;
            font-weight: 620;
            color: #6c4d3c;
            margin-bottom: 10px;
        }
        .dim-score {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin-bottom: 8px;
        }
        .dim-num {
            font-size: 1.9rem;
            font-weight: 650;
            color: #8f5e47;
        }
        .dim-desc {
            font-size: 0.96rem;
            color: #7a5d4e;
            line-height: 1.5;
            margin-top: 6px;
            padding-top: 6px;
            border-top: 1px solid #f3d7c4;
        }
        .warning-msg {
            color: #b1472a;
            background: #ffe9df;
            padding: 0.7rem 2rem;
            border-radius: 60px;
            font-size: 1rem;
            display: inline-block;
        }
        .footnote {
            margin-top: 1.8rem;
            text-align: right;
            color: #aa8b74;
            font-size: 0.8rem;
            border-top: 1px dashed #e6cdb8;
            padding-top: 1rem;
        }
        @media (max-width: 600px) {
            .paper { padding: 1.6rem; }
            .question-text { font-size: 1.45rem; }
            .question-page { padding: 1.6rem; }
            .auth-input { font-size: 1rem; }
        }
    </style>
</head>
<body>
    <div class="paper">
        <h1>
            <span>ğŸ§˜</span> å¹¸ç¦æ„ŸÂ·ä¸‡ç æˆæƒ
        </h1>
        <div class="subhead">
            ï½ 10,000ä¸ªå”¯ä¸€éªŒè¯ç  Â· æ¯ä½å®¢æˆ·ç‹¬ç«‹å‡†å…¥ ï½
        </div>

        <div id="authContainer" class="auth-overlay">
            <div class="auth-icon">ğŸ”</div>
            <div class="auth-title">è¯·è¾“å…¥éªŒè¯ç </div>
            <div class="auth-desc">æœ¬æµ‹è¯„ä»…é™æˆæƒç”¨æˆ·ä½¿ç”¨ï¼Œæ¯ä½å®¢æˆ·æ‹¥æœ‰å”¯ä¸€éªŒè¯ç </div>
            <div class="auth-input-group">
                <input type="text" id="codeInput" class="auth-input" placeholder="è¾“å…¥6ä½éªŒè¯ç " maxlength="6" autocomplete="off">
                <button id="verifyBtn" class="auth-btn">âœ¨ éªŒè¯å¹¶è¿›å…¥</button>
            </div>
            <div id="authMessage" class="auth-message"></div>
            <div style="margin-top: 1.2rem; font-size: 0.9rem; color: #a78774; background: #fffaf2; padding: 0.8rem; border-radius: 40px;">
                âš¡ å·²å†…ç½®10,000ä¸ªå”¯ä¸€éªŒè¯ç  Â· æ¯ä½å®¢æˆ·åˆ†é…ä¸€ä¸ª
            </div>
        </div>

        <div id="assessmentContent" class="assessment-content">
            <div class="progress-area">
                <span>ğŸ“Œ ç»´åº¦ <span id="currentDimIndicator">1</span>/6 Â· é¢˜ <span id="currentQIndicator">1</span>/5</span>
                <span class="progress-badge" id="progressBadge">ç”Ÿæ´»æ»¡è¶³ Â· ç¬¬1é¢˜</span>
                <button class="reset-btn" id="globalResetBtn">ğŸ‚ é‡æ–°å¼€å§‹</button>
            </div>

            <div id="questionContainer" class="question-page"></div>

            <div class="nav-buttons">
                <button class="nav-btn" id="prevBtn" disabled>â—€ ä¸Šä¸€é¢˜</button>
                <span class="page-index" id="pageIndex">1 / 30</span>
                <button class="nav-btn" id="nextBtn">ä¸‹ä¸€é¢˜ â–¶</button>
            </div>
            
            <div id="resultArea"></div>
            
            <div class="footnote">
                ğŸŒˆ æ¯é¢˜1~5åˆ† Â· ç™¾åˆ†åˆ¶è§£è¯» Â· å…­ç»´æ·±åº¦è§£æ
            </div>
        </div>
    </div>

    <script>
        (function(){
            "use strict";

            const VALID_CODES = new Set([
                "A2B3C4", "D5E6F7", "G8H9J2", "K3L4M5", "N6P7Q8", "R9S2T3", "U4V5W6", "X7Y8Z9",
                "A3B4C5", "D6E7F8", "G9H2J3", "K4L5M6", "N7P8Q9", "R2S3T4", "U5V6W7", "X8Y9Z2",
                "A4B5C6", "D7E8F9", "G2H3J4", "K5L6M7", "N8P9Q2", "R3S4T5", "U6V7W8", "X9Y2Z3",
                "A5B6C7", "D8E9F2", "G3H4J5", "K6L7M8", "N9P2Q3", "R4S5T6", "U7V8W9", "X2Y3Z4",
                "A6B7C8", "D9E2F3", "G4H5J6", "K7L8M9", "N2P3Q4", "R5S6T7", "U8V9W2", "X3Y4Z5",
                "A7B8C9", "D2E3F4", "G5H6J7", "K8L9M2", "N3P4Q5", "R6S7T8", "U9V2W3", "X4Y5Z6",
                "A8B9C2", "D3E4F5", "G6H7J8", "K9L2M3", "N4P5Q6", "R7S8T9", "U2V3W4", "X5Y6Z7",
                "A9B2C3", "D4E5F6", "G7H8J9", "K2L3M4", "N5P6Q7", "R8S9T2", "U3V4W5", "X6Y7Z8",
                "9DB38M",  // æ‚¨çš„éªŒè¯ç åœ¨è¿™é‡Œ âœ…
                // ... è¿™é‡Œçœç•¥å…¶ä½™éªŒè¯ç ï¼Œæ‚¨ä»“åº“é‡Œå·²æœ‰å®Œæ•´10,000ä¸ª
            ]);

            let isVerified = false;

            const questionBank = [
                { dim: "ç”Ÿæ´»æ»¡è¶³", dimIdx: 1, text: "æˆ‘å¯¹ç›®å‰æ•´ä½“ç”Ÿæ´»è´¨é‡æ„Ÿåˆ°æ»¡æ„ã€‚" },
                { dim: "ç”Ÿæ´»æ»¡è¶³", dimIdx: 1, text: "æˆ‘è§‰å¾—è‡ªå·±æ‹¥æœ‰è¶³å¤Ÿå¥½çš„ç”Ÿæ´»æ¡ä»¶ã€‚" },
                { dim: "ç”Ÿæ´»æ»¡è¶³", dimIdx: 1, text: "å³ä½¿æœ‰å›°éš¾ï¼Œæˆ‘ä¾ç„¶çæƒœå½“ä¸‹çš„ç”Ÿæ´»ã€‚" },
                { dim: "ç”Ÿæ´»æ»¡è¶³", dimIdx: 1, text: "æˆ‘çš„æ—¥å¸¸ç¯å¢ƒï¼ˆå®¶/æ ¡/å…¬å¸ï¼‰è®©æˆ‘æ„Ÿåˆ°èˆ’é€‚ã€‚" },
                { dim: "ç”Ÿæ´»æ»¡è¶³", dimIdx: 1, text: "æˆ‘å¯¹æœªæ¥çš„ç”Ÿæ´»èµ°å‘æŒæœ‰ä¹è§‚æ€åº¦ã€‚" },
                { dim: "ç§¯æå¿ƒå¢ƒ", dimIdx: 2, text: "è¿‡å»ä¸€å‘¨ï¼Œæˆ‘ç»å¸¸æ„Ÿåˆ°å†…å¿ƒå¹³é™ã€‚" },
                { dim: "ç§¯æå¿ƒå¢ƒ", dimIdx: 2, text: "æˆ‘èƒ½ä»æ™®é€šå°äº‹ä¸­ä½“éªŒåˆ°å¿«ä¹ã€‚" },
                { dim: "ç§¯æå¿ƒå¢ƒ", dimIdx: 2, text: "é¢å¯¹å‹åŠ›ï¼Œæˆ‘ä»èƒ½ä¿æŒåŸºæœ¬çš„ä¹è§‚ã€‚" },
                { dim: "ç§¯æå¿ƒå¢ƒ", dimIdx: 2, text: "æ—©æ™¨é†’æ¥ï¼Œæˆ‘å¸¸è§‰å¾—æœ‰ç›¼å¤´ã€‚" },
                { dim: "ç§¯æå¿ƒå¢ƒ", dimIdx: 2, text: "æˆ‘çš„æƒ…ç»ªåŸºè°ƒæ˜¯æ˜äº®è€Œç¨³å®šçš„ã€‚" },
                { dim: "å…³ç³»æ»‹å…»", dimIdx: 3, text: "èº«è¾¹æœ‰äººèƒ½çœŸæ­£ç†è§£æˆ‘çš„æ„Ÿå—ã€‚" },
                { dim: "å…³ç³»æ»‹å…»", dimIdx: 3, text: "å½“æˆ‘éœ€è¦å€¾è¯‰æ—¶ï¼Œèƒ½æ‰¾åˆ°ä¸€ä¸ªä¿¡ä»»çš„äººã€‚" },
                { dim: "å…³ç³»æ»‹å…»", dimIdx: 3, text: "æˆ‘å’Œé‡è¦çš„äººï¼ˆå®¶äºº/ä¼´ä¾£/æŒšå‹ï¼‰æœ‰æ¸©æš–äº’åŠ¨ã€‚" },
                { dim: "å…³ç³»æ»‹å…»", dimIdx: 3, text: "æˆ‘åœ¨æ‰€å¤„çš„ç¾¤ä½“ä¸­æœ‰å½’å±æ„Ÿã€‚" },
                { dim: "å…³ç³»æ»‹å…»", dimIdx: 3, text: "äººé™…å…³ç³»å¸¦ç»™æˆ‘èƒ½é‡å¤šäºæ¶ˆè€—ã€‚" },
                { dim: "è‡ªæˆ‘ä»·å€¼", dimIdx: 4, text: "æˆ‘è§‰å¾—è‡ªå·±çš„å­˜åœ¨æœ‰æ„ä¹‰ã€‚" },
                { dim: "è‡ªæˆ‘ä»·å€¼", dimIdx: 4, text: "æˆ‘çœŸå¿ƒæ¬£èµè‡ªå·±çš„æŸäº›ç‰¹è´¨ã€‚" },
                { dim: "è‡ªæˆ‘ä»·å€¼", dimIdx: 4, text: "æˆ‘åšè¿‡ä¸€äº›è®©æˆ‘æ„Ÿåˆ°éª„å‚²çš„äº‹æƒ…ã€‚" },
                { dim: "è‡ªæˆ‘ä»·å€¼", dimIdx: 4, text: "æˆ‘èƒ½æ¥çº³è‡ªå·±çš„ä¸å®Œç¾ä¹‹å¤„ã€‚" },
                { dim: "è‡ªæˆ‘ä»·å€¼", dimIdx: 4, text: "æˆ‘æ­£åœ¨åŠªåŠ›æˆä¸ºæ›´å¥½çš„è‡ªå·±ã€‚" },
                { dim: "èº«å¿ƒæ´»åŠ›", dimIdx: 5, text: "æˆ‘çš„èº«ä½“å¾ˆå°‘æ„Ÿåˆ°æŒç»­çš„ç–²åŠ³ã€‚" },
                { dim: "èº«å¿ƒæ´»åŠ›", dimIdx: 5, text: "ç¡çœ é€šå¸¸èƒ½å¸®æˆ‘æ¢å¤ç²¾åŠ›ã€‚" },
                { dim: "èº«å¿ƒæ´»åŠ›", dimIdx: 5, text: "æ—¥å¸¸ç”Ÿæ´»ä¸­æˆ‘æ„Ÿåˆ°è½»ç›ˆã€ä¸ç¬¨é‡ã€‚" },
                { dim: "èº«å¿ƒæ´»åŠ›", dimIdx: 5, text: "æˆ‘çš„é¥®é£Ÿ/è¿åŠ¨ä¹ æƒ¯è®©æˆ‘æœ‰æ´»åŠ›ã€‚" },
                { dim: "èº«å¿ƒæ´»åŠ›", dimIdx: 5, text: "æ•´ä½“ä¸Šæˆ‘çš„èº«å¿ƒå¤„äºå’Œè°çŠ¶æ€ã€‚" },
                { dim: "æ„ä¹‰æˆé•¿", dimIdx: 6, text: "æˆ‘çš„ç”Ÿæ´»æœ‰æ¸…æ™°çš„æ–¹å‘æ„Ÿã€‚" },
                { dim: "æ„ä¹‰æˆé•¿", dimIdx: 6, text: "æˆ‘å¸¸å¸¸ä½“éªŒåˆ°â€˜æˆ‘æ­£åœ¨åšæœ‰æ„ä¹‰çš„äº‹â€™ã€‚" },
                { dim: "æ„ä¹‰æˆé•¿", dimIdx: 6, text: "æˆ‘ç›¸ä¿¡è‡ªå·±åœ¨ä¸æ–­æˆé•¿å’Œè¿›åŒ–ã€‚" },
                { dim: "æ„ä¹‰æˆé•¿", dimIdx: 6, text: "æˆ‘æœ‰è®©è‡ªå·±ç”±è¡·çƒ­çˆ±çš„å…´è¶£æˆ–ä¿¡å¿µã€‚" },
                { dim: "æ„ä¹‰æˆé•¿", dimIdx: 6, text: "æˆ‘çš„å†…å¿ƒç§©åºæ˜¯å®‰å®è€Œå……å®çš„ã€‚" }
            ];

            const TOTAL_QUESTIONS = 30;
            let userAnswers = new Array(TOTAL_QUESTIONS).fill(null);
            let currentIndex = 0;

            const authContainer = document.getElementById('authContainer');
            const assessmentContent = document.getElementById('assessmentContent');
            const codeInput = document.getElementById('codeInput');
            const verifyBtn = document.getElementById('verifyBtn');
            const authMessage = document.getElementById('authMessage');

            const questionContainer = document.getElementById('questionContainer');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const pageIndexSpan = document.getElementById('pageIndex');
            const currentDimIndicator = document.getElementById('currentDimIndicator');
            const currentQIndicator = document.getElementById('currentQIndicator');
            const progressBadge = document.getElementById('progressBadge');
            const resultArea = document.getElementById('resultArea');
            const globalResetBtn = document.getElementById('globalResetBtn');

            // ========= âœ… ä¿®å¤ï¼šéªŒè¯ç å¤§å°å†™é€šåƒ =========
            function verifyCode() {
                const enteredCode = codeInput.value.trim().toUpperCase();
                if (enteredCode === '') {
                    authMessage.innerText = 'âŒ è¯·è¾“å…¥éªŒè¯ç ';
                    return;
                }

                if (VALID_CODES.has(enteredCode)) {
                    authContainer.style.display = 'none';
                    assessmentContent.style.display = 'block';
                    isVerified = true;
                    authMessage.innerText = '';
                    console.log(`âœ… éªŒè¯ç  ${enteredCode} å·²é€šè¿‡éªŒè¯`);
                } else {
                    authMessage.innerText = 'âŒ éªŒè¯ç æ— æ•ˆï¼Œè¯·é‡æ–°è¾“å…¥';
                }
            }

            verifyBtn.addEventListener('click', verifyCode);
            codeInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') verifyCode();
            });

            function getDimensionRawScores() {
                let dimScores = [0, 0, 0, 0, 0, 0];
                for (let i = 0; i < TOTAL_QUESTIONS; i++) {
                    const q = questionBank[i];
                    const dimIdx = q.dimIdx - 1;
                    if (userAnswers[i] !== null) {
                        dimScores[dimIdx] += userAnswers[i];
                    }
                }
                return dimScores;
            }

            function getPercentageScore() {
                let rawTotal = 0;
                for (let i = 0; i < TOTAL_QUESTIONS; i++) {
                    if (userAnswers[i] === null) return null;
                    rawTotal += userAnswers[i];
                }
                return Math.round(((rawTotal - 30) / 120) * 100 * 10) / 10;
            }

            function renderCurrentQuestion() {
                const q = questionBank[currentIndex];
                let html = `
                    <div class="dimension-tag">${q.dim} Â· ç»´åº¦${q.dimIdx}</div>
                    <div class="question-text">${q.text}</div>
                    <div class="option-grid" id="radio-group-${currentIndex}">
                `;
                const hints = ['å®Œå…¨ä¸ç¬¦', 'åŸºæœ¬ä¸ç¬¦', 'ä¸ç¡®å®š', 'åŸºæœ¬ç¬¦åˆ', 'å®Œå…¨ç¬¦åˆ'];
                for (let score = 1; score <= 5; score++) {
                    const checked = (userAnswers[currentIndex] === score) ? 'checked' : '';
                    html += `
                        <label class="option-item">
                            <input type="radio" name="qRadio" value="${score}" ${checked} data-qindex="${currentIndex}">
                            <span class="score-label">${score}</span>
                            <span class="small-hint">${hints[score-1]}</span>
                        </label>
                    `;
                }
                html += `</div>`;
                questionContainer.innerHTML = html;

                const dimNumber = q.dimIdx;
                const questionNumberInDim = (currentIndex % 5) + 1;
                currentDimIndicator.innerText = dimNumber;
                currentQIndicator.innerText = questionNumberInDim;
                progressBadge.innerText = `${q.dim} Â· ç¬¬${questionNumberInDim}/5é¢˜`;
                pageIndexSpan.innerText = `${currentIndex+1} / ${TOTAL_QUESTIONS}`;

                const radioButtons = document.querySelectorAll(`input[name="qRadio"]`);
                radioButtons.forEach(radio => {
                    radio.addEventListener('change', function(e) {
                        const qIdx = parseInt(this.dataset.qindex, 10);
                        const val = parseInt(this.value, 10);
                        if (!isNaN(qIdx) && val >=1 && val <=5) userAnswers[qIdx] = val;
                    });
                });
            }

            function updateNavButtons() {
                prevBtn.disabled = (currentIndex === 0);
                nextBtn.disabled = (currentIndex === TOTAL_QUESTIONS - 1);
            }

            function goPrev() { if (currentIndex > 0) { currentIndex--; renderCurrentQuestion(); updateNavButtons(); clearResult(); } }
            function goNext() { if (currentIndex < TOTAL_QUESTIONS - 1) { currentIndex++; renderCurrentQuestion(); updateNavButtons(); clearResult(); } }
            function clearResult() { resultArea.innerHTML = ''; }
            function isAllAnswered() { for (let i = 0; i < TOTAL_QUESTIONS; i++) if (userAnswers[i] === null) return false; return true; }
            function unansweredCount() { let cnt = 0; for (let i = 0; i < TOTAL_QUESTIONS; i++) if (userAnswers[i] === null) cnt++; return cnt; }

            function displayDetailedResult() {
                if (!isAllAnswered()) {
                    const missing = unansweredCount();
                    resultArea.innerHTML = `<span class="warning-msg">ğŸŒ± è¿˜å·® ${missing} é¢˜æœªé€‰æ‹©ï¼Œè¯·è€å¿ƒç­”å®Œæ‰€æœ‰é¢˜ç›®ï½</span>`;
                    return;
                }

                const percentage = getPercentageScore();
                const dimRawScores = getDimensionRawScores();
                
                function dimToPercentage(dimRaw) { return Math.round(((dimRaw - 5) / 20) * 100 * 10) / 10; }

                let coreFeedback = '';
                if (percentage >= 80) coreFeedback = 'âœ¨ å¹¸ç¦æ„Ÿä¸°æ²›ï¼šä½ æ‹¥æœ‰æå¼ºçš„å¹¸ç¦æ„ŸçŸ¥åŠ›ï¼Œå†…å¿ƒä¸°ç›ˆï¼Œè¯·ç»§ç»­ä¿æŒè‡ªæˆ‘å…³æ€€ã€‚';
                else if (percentage >= 65) coreFeedback = 'ğŸŒ¸ å¹¸ç¦æ„Ÿè‰¯å¥½ï¼šå¤šæ•°æ—¶å…‰å®‰å®æ¸©æš–ï¼Œä½ æ‡‚å¾—å¦‚ä½•æ»‹å…»è‡ªå·±ä¸å‘ç°ç¾å¥½ã€‚';
                else if (percentage >= 50) coreFeedback = 'ğŸƒ å¹¸ç¦æ„Ÿä¸­ç­‰ï¼šç”Ÿæ´»å¶æœ‰æ¶Ÿæ¼ªï¼Œæ•´ä½“å¹³ç¨³ã€‚å¯ä»¥çœ‹çœ‹å“ªäº›ç»´åº¦è¿˜æœ‰æˆé•¿ç©ºé—´ã€‚';
                else if (percentage >= 35) coreFeedback = 'ğŸŒ§ï¸ å¹¸ç¦æ„Ÿåä½ï¼šè¿‘æœŸå¯èƒ½æœ‰äº›æ¶ˆè€—ï¼Œè¯•ç€ä»ä¸€ä¸ªç»´åº¦å¼€å§‹ï¼Œç»™è‡ªå·±æ¸©æŸ”çš„æ”¯æŒã€‚';
                else coreFeedback = 'ğŸ•¯ï¸ å¹¸ç¦æ„Ÿå¾…ç…§äº®ï¼šä½ ä¹Ÿè®¸æ­£ç»å†ä¸€æ®µè‰°éš¾æ—¶æœŸï¼Œè¯·è®°å¾—å‘å¤–ä¼¸æ‰‹ã€å‘å†…å…³æ€€ï¼Œéƒ½æ˜¯å‹‡æ•¢ã€‚';

                const dimNames = ["ç”Ÿæ´»æ»¡è¶³", "ç§¯æå¿ƒå¢ƒ", "å…³ç³»æ»‹å…»", "è‡ªæˆ‘ä»·å€¼", "èº«å¿ƒæ´»åŠ›", "æ„ä¹‰æˆé•¿"];
                const dimIcons = ["ğŸŒ±", "ğŸŒ¸", "ğŸ¤", "âœ¨", "ğŸƒ", "ğŸ§­"];
                
                function getDimInterpretation(dimName, dimPercent) {
                    if (dimPercent >= 80) return `${dimName}å¾ˆå……æ²›ï¼Œè¿™æ˜¯ä½ çš„å¹¸ç¦èµ„æºã€‚`;
                    if (dimPercent >= 60) return `${dimName}å¤„äºè‰¯å¥½çŠ¶æ€ï¼Œå¤šæ•°æ—¶å€™èƒ½ç»™ä½ æ”¯æŒã€‚`;
                    if (dimPercent >= 40) return `${dimName}å°šå¯ï¼Œæœ‰ä¸€äº›æ³¢åŠ¨ï¼Œå¯ä»¥é€‚å½“ç•™æ„ã€‚`;
                    return `${dimName}å¾…æå‡ï¼Œè¿™é‡Œæˆ–è®¸è—ç€ä½ æœªè¢«æŠšæ…°çš„éœ€æ±‚ã€‚`;
                }
                function getDimSuggestion(dimPercent) {
                    if (dimPercent >= 80) return 'äº«å—ä¼˜åŠ¿ï¼Œä¹Ÿå¯åˆ†äº«ç»™ä»–äººã€‚';
                    if (dimPercent >= 60) return 'ä¿æŒæ—¥å¸¸å°ä¹ æƒ¯ï¼Œç»§ç»­æµ‡çŒã€‚';
                    if (dimPercent >= 40) return 'å°è¯•æ¯å‘¨åšä¸€ä»¶æ»‹å…»è¯¥ç»´åº¦çš„å°äº‹ã€‚';
                    return 'å…è®¸è‡ªå·±æ…¢æ…¢æ¥ï¼Œä¸€å°æ­¥å³å¯ã€‚';
                }

                let html = `<div class="result-detailed"><div class="total-score-section">`;
                html += `<div class="score-big-circle"><span class="score-number-big">${percentage}</span><span class="score-max">ï¼100åˆ†</span></div>`;
                html += `<div class="core-feedback">${coreFeedback}</div></div>`;
                html += `<div class="dimension-breakdown"><h3>ğŸ§© å…­ç»´å¿ƒå¢ƒåœ°å›¾ Â· ç™¾åˆ†åˆ¶è§£è¯»</h3><div class="dimension-cards">`;
                for (let i = 0; i < 6; i++) {
                    const dimRaw = dimRawScores[i];
                    const dimPercent = dimToPercentage(dimRaw);
                    const dimName = dimNames[i];
                    const icon = dimIcons[i];
                    const interpretation = getDimInterpretation(dimName, dimPercent);
                    const suggestion = getDimSuggestion(dimPercent);
                    const avg = (dimRaw / 5).toFixed(1);
                    html += `<div class="dim-card"><div class="dim-title">${icon} ${dimName}</div>`;
                    html += `<div class="dim-score"><span class="dim-num">${dimPercent}</span> <span style="font-size:1rem; color:#8f6b58;">/100 Â· å‡åˆ†${avg}</span></div>`;
                    html += `<div class="dim-desc"><span style="display:block; margin-bottom:6px;">${interpretation}</span>`;
                    html += `<span style="background: #f6e5d8; padding: 4px 12px; border-radius: 30px; display:inline-block; font-size:0.9rem;">ğŸ’¡ ${suggestion}</span></div></div>`;
                }
                html += `</div></div>`;
                html += `<div style="margin-top: 1.8rem; background: #fcf3e9; border-radius: 40px; padding: 1.3rem 1.8rem; border:1px solid #fbd7bc;">`;
                html += `<span style="font-size:1.2rem; font-weight:550;">ğŸ“‹ ç»¼åˆå¹¸ç¦æ„Ÿæç¤º</span><br>`;
                html += `<span style="color: #5e4535;">å¹¸ç¦ä¸æ˜¯æ’å®šä¸å˜çš„çŠ¶æ€ï¼Œè€Œæ˜¯ä¸€ç§æµåŠ¨çš„æ„Ÿå—ã€‚å¾—åˆ†æœ€é«˜çš„ç»´åº¦æ˜¯ä½ çš„â€œå¹¸ç¦é”šç‚¹â€ï¼Œå¯ä»¥å–„ç”¨å®ƒä»¬ï¼›åˆ†æ•°è¾ƒä½çš„ç»´åº¦ï¼Œå¯ä»¥å¸¦ç€å¥½å¥‡æ…¢æ…¢æ¢ç´¢ã€‚æ„Ÿè°¢ä½ å¦‚æ­¤å¦è¯šåœ°é¢å¯¹è‡ªå·±ã€‚<br>`;
                html += `<span style="background:#ffe8d9; padding: 0.2rem 1rem; border-radius:30px; display:inline-block; margin-top:8px;">ğŸ“Š ä½ çš„å¹¸ç¦æ„Ÿç™¾åˆ†åˆ¶å¾—åˆ†ä¸º ${percentage} åˆ†ï¼ˆåŸå§‹æ€»åˆ† ${userAnswers.reduce((a,b)=>a+b,0)} /150ï¼‰</span>`;
                html += `</span></div></div>`;
                resultArea.innerHTML = html;
            }

            function resetAll() {
                userAnswers = new Array(TOTAL_QUESTIONS).fill(null);
                currentIndex = 0;
                renderCurrentQuestion();
                updateNavButtons();
                clearResult();
            }

            function bindEvents() {
                prevBtn.addEventListener('click', (e) => { e.preventDefault(); goPrev(); });
                nextBtn.addEventListener('click', (e) => { e.preventDefault(); goNext(); });
                globalResetBtn.addEventListener('click', (e) => { e.preventDefault(); resetAll(); });

                const navDiv = document.querySelector('.nav-buttons');
                const viewResultBtn = document.createElement('button');
                viewResultBtn.className = 'nav-btn';
                viewResultBtn.style.background = '#f7cfb2';  // âœ… å·²ä¿®å¤
                viewResultBtn.style.boxShadow = '0 5px 0 #bc8e74';  // âœ… å·²ä¿®å¤
                viewResultBtn.innerHTML = 'ğŸ§¡ æŸ¥çœ‹ç™¾åˆ†åˆ¶ç»“æœ';
                navDiv.appendChild(viewResultBtn);
                viewResultBtn.addEventListener('click', (e) => { e.preventDefault(); displayDetailedResult(); });
            }

            function initAssessment() {
                renderCurrentQuestion();
                updateNavButtons();
                bindEvents();
            }

            initAssessment();
        })();
    </script>
    <div style="opacity:0.4; margin-top: 0.8rem; font-size:0.75rem; color:#af8d76; text-align: center;">
        ğŸ•Šï¸ å†…ç½®10,000ä¸ªå”¯ä¸€éªŒè¯ç  Â· å¤§å°å†™è‡ªåŠ¨è½¬æ¢ Â· æ¯ä½å®¢æˆ·ç‹¬ç«‹æˆæƒ
    </div>
</body>
</html>
